<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Life ‚Äî Shreshtha</title>
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
  <style>
    :root{
      --maroon:#4a0f0f; --black:#0b0b0b; --gold:#c89a2f; --silver:#cfcfcf;
    }
    body{margin:0;font-family:Arial,Helvetica,sans-serif;
      min-height:100vh;display:flex;align-items:center;justify-content:center;
      background:linear-gradient(180deg,var(--maroon),var(--black));color:var(--silver);}
    .card{background:rgba(255,255,255,0.03);backdrop-filter: blur(6px);
      padding:28px;border-radius:14px;max-width:900px;width:90%;box-shadow:0 10px 40px rgba(0,0,0,0.6);
      border:1px solid rgba(255,255,255,0.04);text-align:center;}
    h1{color:var(--gold);font-size:2.4rem;margin:0 0 8px}
    p{color:var(--silver);font-size:1.05rem;line-height:1.5}
    .imgrow{display:flex;gap:14px;flex-wrap:wrap;justify-content:center;margin-top:18px}
    .imgrow img{width:260px;border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,0.6);border:2px solid rgba(255,255,255,0.04)}
    .controls{margin-top:20px}
    .btn{padding:10px 16px;border-radius:8px;border:2px solid rgba(200,154,47,0.9);background:transparent;color:var(--gold);cursor:pointer;font-weight:700;margin:0 8px}
    .btn:hover{color:#fff;background:linear-gradient(90deg,#c89a2f55,#ffffff11)}
  </style>
</head>
<body>
  <style>
  .music-controls {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: rgba(0,0,0,0.6);
    padding: 10px 15px;
    border-radius: 12px;
    display: flex;
    gap: 8px;
    align-items: center;
  }
  .music-controls button {
    background: #fff;
    border: none;
    padding: 6px 10px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 14px;
  }
</style>

<audio id="bg-music" loop>
  <source src="./music.mp3" type="audio/mpeg">
</audio>

<div class="music-controls">
  <button onclick="music.play()">‚ñ∂ Play</button>
  <button onclick="music.pause()">‚è∏ Pause</button>
  <button onclick="music.muted = !music.muted">
    üîá/üîä
  </button>
  <button onclick="music.volume = Math.max(0, music.volume - 0.1)">üîâ -</button>
  <button onclick="music.volume = Math.min(1, music.volume + 0.1)">üîä +</button>
</div>

<script>
  let music = document.getElementById("bg-music");
  music.volume = 0.3; // 30% volume by default
</script>

  <audio id="bg-music" autoplay loop>
  <source src="./music.mp3" type="audio/mpeg">
</audio>

  <div class="card" id="protected">
    <h1>Life</h1>
    <p>Private memories, notes and soft images ‚Äî visible only to invited hearts. Treat this space with care.</p>

    <div class="imgrow">
      <img src="/photo1.jpg" alt="photo1">
      <img src="/photo2.jpg" alt="photo2">
      <img src="/photo3.jpg" alt="photo3">
      <img src="/photo4.jpg" alt="photo4">
      <img src="/photo5.jpg" alt="photo5">
      <img src="/photo6.jpg" alt="photo6">
      <img src="/photo7.jpg" alt="photo7">
      <img src="/photo8.jpg" alt="photo8">
      <img src="/photo9.jpg" alt="photo9">
    </div>

    <div class="controls">
      <a class="btn" href="/">Home</a>
      <button class="btn" id="logoutBtn">Logout</button>
    </div>
  </div>

  <script>
    // protection: if not logged in, go to homepage
    function protect() {
      if (!window.netlifyIdentity) { location.href = '/'; return; }
      netlifyIdentity.on('init', user => {
        if (!user) location.href = '/';
      });
      netlifyIdentity.init();
    }
    document.addEventListener('DOMContentLoaded', () => {
      protect();
      const logout = document.getElementById('logoutBtn');
      logout.addEventListener('click', () => {
        netlifyIdentity.logout();
      });
      if (window.netlifyIdentity) {
        netlifyIdentity.on('logout', () => { location.href = '/'; });
      }
    });
  </script>
</body>
</html>
