<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Photo 2 — Shreshtha</title>
<style>
  :root{
    --bg:#ffdfe6;
    --heart-color:#6d2a47;
    --pill-bg:rgba(255,255,255,0.95);
    --pill-text:#6d2a47;
    --accent:#6d2a47;
  }
  html,body{height:100%;margin:0;font-family:Inter,system-ui,Arial;}
  body{
    background:linear-gradient(180deg,#ffe6ec 0%, #ffdfe6 40%, #ffebf1 100%);
    overflow:auto;
  }

  .stage{ min-height:100vh; display:flex; align-items:center; justify-content:center; padding:40px 20px; position:relative; }

  .photo-wrap{ width:min(900px, 92%); min-width:800px; margin:0 auto; display:block; }
  .photo-wrap img{ width:100%; height:auto; display:block; object-fit:contain; border-radius:8px; box-shadow: 0 28px 60px rgba(110,40,70,0.18); }

  .caption{ text-align:center; margin-top:18px; }
  .caption .pill{ display:inline-block; background:var(--pill-bg); color:var(--pill-text); padding:10px 18px; border-radius:999px; font-style:italic; box-shadow:0 16px 36px rgba(0,0,0,0.08); }

  .side-heart{ position:fixed; top:50%; transform:translateY(-50%); width:42px; height:42px; border-radius:50%; background:linear-gradient(135deg,#fff,#ffeef3); display:flex; align-items:center; justify-content:center; box-shadow: 0 8px 22px rgba(0,0,0,0.12); z-index:30; text-decoration:none; color:var(--heart-color); font-size:20px; }
  .side-heart.left{ left:14px }
  .side-heart.right{ right:14px }

  .music-btn{ position:fixed; right:18px; bottom:18px; width:56px;height:56px;border-radius:50%; background:linear-gradient(135deg,#fff,#ffeef3); box-shadow:0 12px 36px rgba(0,0,0,0.14); display:flex;align-items:center;justify-content:center;z-index:40; cursor:pointer; }
  .music-btn .icon{ font-size:20px; color:var(--accent) }

  .vol-popup{ position:fixed; right:88px; bottom:28px; background:var(--pill-bg); padding:10px;border-radius:10px; box-shadow:0 12px 30px rgba(0,0,0,0.12); display:none; z-index:41; align-items:center; }
  .vol-popup input[type="range"]{ width:160px }

  .hearts { pointer-events:none; position:fixed; inset:0; z-index:5; overflow:hidden; }
  .hearts i{ position:absolute; width:12px; height:12px; transform:translateY(0) rotate(-15deg); opacity:.85; border-radius:3px; background:var(--accent); mix-blend-mode:screen; will-change:transform,opacity; }

  .lb { display:none; position:fixed; inset:0; z-index:100; background:rgba(0,0,0,0.85); align-items:center; justify-content:center; }
  .lb img{ max-width:95vw; max-height:95vh; border-radius:6px; }

  @media (max-width:900px){
    .photo-wrap{ min-width:unset; width:100%; }
    .side-heart{ width:40px;height:40px;font-size:18px; }
  }
</style>
</head>
<body>

<div class="hearts" id="hearts"></div>

<!-- photo2: left -> photo1 ; right -> photo3 -->
<a class="side-heart left" id="leftHeart" href="/photo1.html" aria-label="Previous">❤</a>
<a class="side-heart right" id="rightHeart" href="/photo3.html" aria-label="Next">❤</a>

<main class="stage">
  <div class="photo-wrap">
    <img id="photoImg" src="/photos/photo2.jpg" alt="Memory photo 2" />
    <div class="caption"><span class="pill">“Every memory tells a story.”</span></div>
  </div>
</main>

<div class="music-btn" id="musicBtn" title="Play / Pause (click) — hover to volume">
  <span class="icon" id="musicIcon">♪</span>
</div>
<div class="vol-popup" id="volPopup">
  <label style="font-size:12px;margin-right:8px;color:#6d2a47;font-weight:600">Vol</label>
  <input id="volRange" type="range" min="0" max="1" step="0.01" value="0.6">
</div>

<div class="lb" id="lb"><img id="lbImg" src=""><button id="lbClose" style="position:absolute;top:20px;right:20px;background:#fff;border:none;padding:8px 10px;border-radius:8px;cursor:pointer">✕</button></div>

<audio id="bgAudio" loop preload="auto"><source src="/music/bg.mp3" type="audio/mpeg"></audio>

<script>
(function makeHearts(){
  const container=document.getElementById('hearts');
  const colors=['#ffd1e0','#ffb7c8','#ffd7e0','#cfeef0','#e6f7d7','#fbe1c7'];
  const n=28;
  for(let i=0;i<n;i++){
    const el=document.createElement('i');
    el.style.left = Math.random()*100 + '%';
    el.style.top  = Math.random()*100 + '%';
    el.style.background = colors[Math.floor(Math.random()*colors.length)];
    el.style.opacity = 0.6 + Math.random()*0.4;
    el.style.transform = `scale(${0.6 + Math.random()*0.9}) rotate(${(Math.random()*40)-20}deg)`;
    container.appendChild(el);
    const dur = 6000 + Math.random()*9000;
    const dy = 8 + Math.random()*40;
    el.animate([
      { transform: el.style.transform + ` translateY(0px)` },
      { transform: el.style.transform + ` translateY(-${dy}px)` },
      { transform: el.style.transform + ` translateY(0px)` }
    ], { duration: dur, iterations: Infinity, direction: 'alternate', easing: 'ease-in-out' });
  }
})();

(function(){
  const photo=document.getElementById('photoImg');
  const lb=document.getElementById('lb');
  const lbImg=document.getElementById('lbImg');
  const lbClose=document.getElementById('lbClose');
  photo.addEventListener('click', ()=>{
    lbImg.src = photo.src;
    lb.style.display='flex';
  });
  lbClose.addEventListener('click', ()=>{ lb.style.display='none'; lbImg.src=''; });
  lb.addEventListener('click', e=>{ if(e.target===lb) { lb.style.display='none'; lbImg.src=''; }});
})();

(function(){
  const audio=document.getElementById('bgAudio');
  const btn=document.getElementById('musicBtn');
  const icon=document.getElementById('musicIcon');
  const volPopup=document.getElementById('volPopup');
  const volRange=document.getElementById('volRange');

  audio.volume = parseFloat(volRange.value);
  btn.addEventListener('click', async ()=>{
    if(audio.paused){
      try { await audio.play(); icon.textContent='▮▮'; }
      catch(e){}
    } else { audio.pause(); icon.textContent='♪'; }
  });

  btn.addEventListener('mouseenter', ()=> volPopup.style.display='flex');
  btn.addEventListener('mouseleave', ()=> { setTimeout(()=>{ if(!volPopup.matches(':hover')) volPopup.style.display='none'; }, 250); });
  volPopup.addEventListener('mouseleave', ()=> volPopup.style.display='none');

  volRange.addEventListener('input', ()=> { audio.volume = parseFloat(volRange.value); });
})();

(function(){
  document.addEventListener('keyup', (e)=>{
    if(e.key==='ArrowLeft') document.getElementById('leftHeart').click();
    if(e.key==='ArrowRight') document.getElementById('rightHeart').click();
    if(e.key==='Escape') { const lb=document.getElementById('lb'); if(lb.style.display==='flex') lb.style.display='none'; }
  });
})();
</script>
</body>
</html>
