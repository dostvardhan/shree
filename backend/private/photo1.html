<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Shreshtha • Memory 1</title>

<!-- Auth Protection -->
<script src="/auth0-spa-js.production.js"></script>
<script src="/auth-init.js?v=6" defer></script>
<script src="/guard-auth.js?v=6" defer></script>

<style>
  :root {
    --bg1: #fff0ef;
    --bg2: #ffd9d6;
    --bg3: #ffe9e6;
    --text: #5a0013;
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: "Inter", sans-serif;
    background: linear-gradient(160deg, var(--bg1), var(--bg2), var(--bg3));
    overflow-x: hidden;
    color: var(--text);
    text-align: center;
  }

  /* navigation hearts */
  .nav-heart {
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    font-size: 38px;
    text-decoration: none;
    z-index: 10;
    opacity: 0.9;
    transition: transform 0.2s ease, opacity 0.2s ease;
  }
  .nav-heart:hover {
    transform: translateY(-50%) scale(1.08);
    opacity: 1;
  }
  .nav-left { left: 20px; color: #ff6f91; }
  .nav-right { right: 20px; color: #ffd166; }

  .photo-wrap {
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 40px 0 20px;
  }
  .photo-wrap img {
    width: auto;
    height: 88vh;
    max-width: 96%;
    border-radius: 18px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    object-fit: contain;
  }

  .quote {
    margin: 16px auto 24px;
    font-style: italic;
    font-size: 18px;
    color: #6d2a47;
  }

  .bottom-links {
    margin: 22px auto 40px;
    font-size: 15px;
  }
  .bottom-links a {
    color: #6d2a47;
    text-decoration: none;
    margin: 0 10px;
    font-weight: 600;
  }
  .bottom-links a:hover {
    text-decoration: underline;
  }
</style>
</head>
<body>

<!-- hearts navigation -->
<a id="prevHeart" class="nav-heart nav-left" href="#"><span>&#10084;</span></a>
<a id="nextHeart" class="nav-heart nav-right" href="#"><span>&#10084;</span></a>

<!-- photo -->
<div class="photo-wrap">
  <img id="photo" src="/photos/photo1.jpg" alt="Memory 1">
</div>

<!-- quote -->
<div class="quote">“A smile is the beauty of the soul.”</div>

<!-- links -->
<div class="bottom-links">
  <a href="life.html">Life</a> |
  <a href="gallery.html">Gallery</a> |
  <a href="/auth/logout">Logout</a>
</div>

<!-- Canvas Hearts -->
<div id="fxRoot" aria-hidden="true"><canvas id="fxCanvas"></canvas></div>
<script>
(() => {
  const c = document.getElementById('fxCanvas');
  if (!c) return;
  const ctx = c.getContext('2d');
  const DPR = window.devicePixelRatio || 1;
  let W = 0, H = 0, hearts = [];
  const COLORS = ['#ffe9ec','#ffdce6','#fff0f6','#fff4de','#e9f7e9','#eae8ff','#fff9d6','#dff7ff'];
  function R(a,b){ return Math.random()*(b-a)+a; }
  function resize(){
    W = innerWidth * DPR; H = innerHeight * DPR;
    c.width = W; c.height = H; c.style.width = '100vw'; c.style.height = '100vh';
  }
  function spawn(){
    if (hearts.length > 22) return;
    hearts.push({x:R(0,W), y:H+R(8*DPR,160*DPR), s:R(14,32), vx:R(-6,6), vy:-R(12,30), a:R(.55,.95),
      r:R(-.5,.5), vr:R(-.012,.012), color:COLORS[Math.floor(Math.random()*COLORS.length)]});
  }
  function drawHeart(px,py,scale,rot,alpha,color){
    ctx.save(); ctx.translate(px,py); ctx.rotate(rot); ctx.scale(scale, scale);
    ctx.globalAlpha = alpha; ctx.shadowColor = color; ctx.shadowBlur = 12;
    const g = ctx.createRadialGradient(0,-0.1,0.1,0,0.2,1);
    g.addColorStop(0,color); g.addColorStop(0.7,color); g.addColorStop(1,'rgba(255,255,255,0.1)');
    ctx.fillStyle = g; ctx.beginPath();
    ctx.moveTo(0,-0.5); ctx.bezierCurveTo(0.45,-1.05,1.15,-0.05,0,0.8);
    ctx.bezierCurveTo(-1.15,-0.05,-0.45,-1.05,0,-0.5);
    ctx.fill(); ctx.restore();
  }
  function tick(){
    ctx.clearRect(0,0,W,H);
    if (Math.random()<0.1) spawn();
    hearts.forEach(h=>{ h.x+=h.vx*0.016; h.y+=h.vy*0.016; h.r+=h.vr; h.a-=0.0009; });
    hearts = hearts.filter(h=>h.y>-120*DPR && h.a>0.02);
    hearts.forEach(h=>drawHeart(h.x,h.y,(h.s/50)*DPR,h.r,h.a,h.color));
    requestAnimationFrame(tick);
  }
  addEventListener('resize', resize, {passive:true});
  resize(); tick();
})();
</script>

<!-- Music Button -->
<link rel="stylesheet" href="/assets/css/music.css" />
<script src="/assets/js/music-control.js" defer></script>

<!-- nav logic -->
<script>
(() => {
  const total = 9;
  const cur = 1;
  const prev = cur > 1 ? cur - 1 : total;
  const next = cur < total ? cur + 1 : 1;
  document.getElementById('prevHeart').href = 'photo' + prev + '.html';
  document.getElementById('nextHeart').href = 'photo' + next + '.html';
})();
</script>

</body>
</html>
