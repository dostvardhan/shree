<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Shreshtha — Photo 1</title>

  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self';
                 script-src 'self' 'unsafe-inline' 'unsafe-eval';
                 connect-src 'self' https:;
                 img-src 'self' data:;
                 style-src 'self' 'unsafe-inline';
                 media-src 'self';">

  <!-- Auth -->
  <script src="/auth0-spa-js.production.js" defer></script>
  <script src="/auth-init.js" defer></script>
  <script src="/guard-auth.js" defer></script>

  <!-- Music styling (upload.html style) -->
  <link rel="stylesheet" href="/assets/css/music-heart.css">
  <script src="/assets/js/music-heart.js" defer></script>

  <style>
    :root{
      --ink:#4b3a2f;
      --muted:#6b5a4c;
      /* new earthy (olive + warm cream) background */
      --bg-a:#f3efe6;   /* warm cream */
      --bg-b:#e6eedb;   /* soft olive tint */
      --accent:#556b3a; /* deep olive for small UI */
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial}
    body{
      /* new gradient: soft olive / warm cream */
      background:
        radial-gradient(1000px 520px at 8% 12%, rgba(255,255,250,.45), transparent 28%),
        linear-gradient(160deg, var(--bg-a) 0%, var(--bg-b) 36%, #dfe8cc 62%, #eaf3df 100%);
      background-attachment: fixed;
      color:var(--ink);
      overflow-y:auto;
    }

    .wrap{max-width:1600px;margin:18px auto;padding:18px;display:block}
    .photo-card{background:transparent;border-radius:0;padding:8px 12px 40px;margin:8px 0;position:relative}
    .photo-area{display:flex;justify-content:center;align-items:flex-start}

    /* large full photo */
    .photo-wrap{
      width:min(1500px,98vw);
      display:block;
      background:transparent;
      border-radius:0;
      overflow:visible;
      margin:0 auto;
      text-align:center;
    }
    .photo-wrap img{
      display:block;
      width:100%;
      height:auto;
      max-height:240vh;
      object-fit:contain;
      border-radius:6px;
      box-shadow:0 24px 56px rgba(0,0,0,0.12);
      background:transparent;
      -webkit-user-drag:none;
    }

    .caption{text-align:center;margin:18px 0 8px}
    .pill{
      display:inline-block;
      background:linear-gradient(180deg,#fffef8,#fbf8ef);
      padding:12px 22px;
      border-radius:999px;
      box-shadow:0 12px 30px rgba(0,0,0,0.06);
      font-style:italic;
      color:var(--muted);
    }

    .bottom-nav{display:flex;gap:12px;justify-content:center;margin-top:10px}
    .bottom-nav a{
      text-decoration:none;
      padding:8px 14px;
      border-radius:999px;
      background:rgba(255,255,255,0.92);
      color:var(--ink);
      box-shadow:0 8px 20px rgba(0,0,0,0.06);
      font-weight:700
    }

    /* navigation hearts */
    .nav-heart{
      position:fixed;top:50%;transform:translateY(-50%);
      width:56px;height:56px;border-radius:999px;
      display:flex;align-items:center;justify-content:center;
      z-index:150;cursor:pointer;
      box-shadow:0 12px 30px rgba(0,0,0,0.10);
      background:linear-gradient(180deg,#fffafc,#f7f6ef);
    }
    .nav-left{left:14px}
    .nav-right{right:14px}
    .nav-inner{
      width:40px;height:40px;border-radius:999px;
      background:var(--accent);color:#fff;
      display:flex;align-items:center;justify-content:center;font-size:18px
    }

    #heartsCanvas{position:fixed;inset:0;pointer-events:none;z-index:15}

    @media (max-width:900px){
      .photo-wrap{width:min(760px,94vw)}
      .nav-heart{width:48px;height:48px}
      .nav-inner{width:34px;height:34px}
    }
    @media (max-width:420px){
      .photo-wrap{width:96vw}
      .photo-wrap img{max-height:140vh}
    }
  </style>
</head>
<body>

  <!-- nav hearts -->
  <a id="prevHeart" class="nav-heart nav-left" href="life.html"><span class="nav-inner">❤</span></a>
  <a id="nextHeart" class="nav-heart nav-right" href="photo2.html"><span class="nav-inner">❤</span></a>

  <!-- floating hearts canvas -->
  <canvas id="heartsCanvas" aria-hidden="true"></canvas>

  <main class="wrap" role="main">
    <article class="photo-card" role="article" aria-label="Photo 1">
      <div class="photo-area">
        <div class="photo-wrap">
          <img id="mainPhoto" src="/photos/photo1.jpg" alt="Memory 1 — Shreshtha">
        </div>
      </div>

      <div class="caption">
        <div class="pill">“A smile is the beauty of the soul.”</div>
      </div>

      <nav class="bottom-nav">
        <a href="life.html">Life</a>
        <a href="gallery.html">Gallery</a>
        <a href="/auth/logout">Logout</a>
      </nav>
    </article>
  </main>

  <!-- prev/next logic -->
  <script>
  (function(){
    const total=9;
    function getIndex(){
      const m=(location.pathname||'').match(/photo(\d+)\.html/i);
      return m?parseInt(m[1],10):1;
    }
    const cur=getIndex();
    const prev=cur>1?cur-1:total;
    const next=cur<total?cur+1:1;
    const pl=document.getElementById('prevHeart');
    const nl=document.getElementById('nextHeart');
    if(pl) pl.href = (cur===1?'life.html':'photo'+prev+'.html');
    if(nl) nl.href = 'photo'+next+'.html';
  })();
  </script>

  <!-- Floating Hearts Animation (from photo5, half density) -->
  <script>
  (function(){
    const c=document.getElementById('heartsCanvas');
    if(!c)return;
    const ctx=c.getContext('2d');
    const DPR=Math.max(1,window.devicePixelRatio||1);
    let W=0,H=0,hearts=[];
    const COLORS=['#cfe6c3','#e6f1d8','#ffe7d0','#f0f6e9','#e6f0ff','#f7f1e6'];
    const R=(a,b)=>Math.random()*(b-a)+a;

    function resize(){
      W=innerWidth*DPR;H=innerHeight*DPR;
      c.width=W;c.height=H;
      c.style.width='100vw';c.style.height='100vh';
    }
    function spawn(){
      if(hearts.length>60)return;
      hearts.push({
        x:R(0,W),
        y:H+R(20*DPR,160*DPR),
        s:R(12,30)*DPR,
        vx:R(-0.4,0.4)*DPR,
        vy:-R(0.6,1.8)*DPR,
        a:R(0.55,0.95),
        r:R(-0.6,0.6),
        vr:R(-0.01,0.01),
        color:COLORS[(Math.random()*COLORS.length)|0]
      });
    }
    function drawHeart(px,py,scale,rot,alpha,color){
      ctx.save();ctx.translate(px,py);ctx.rotate(rot);ctx.scale(scale,scale);
      ctx.globalAlpha=Math.min(1,alpha*1.1);
      const g=ctx.createRadialGradient(0,-0.12,0.05,0,0.12,1.0);
      g.addColorStop(0,color);g.addColorStop(0.6,color);g.addColorStop(1,'rgba(255,255,255,0.08)');
      ctx.fillStyle=g;
      ctx.beginPath();ctx.moveTo(0,-0.5);
      ctx.bezierCurveTo(0.45,-1.05,1.15,-0.05,0,0.8);
      ctx.bezierCurveTo(-1.15,-0.05,-0.45,-1.05,0,-0.5);
      ctx.fill();
      ctx.restore();
    }
    function tick(){
      ctx.clearRect(0,0,W,H);
      if(Math.random()<0.2)spawn();
      hearts.forEach(h=>{
        h.x+=h.vx*0.016;
        h.y+=h.vy*0.016;
        h.r+=h.vr;
        h.a-=0.001;
        drawHeart(h.x,h.y,(h.s/52)*DPR,h.r,h.a,h.color);
      });
      hearts=hearts.filter(h=>h.y>-120*DPR&&h.a>0.02);
      requestAnimationFrame(tick);
    }
    addEventListener('resize',resize,{passive:true});
    resize();tick();
  })();
  </script>

</body>
</html>
